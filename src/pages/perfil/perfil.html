<!--
  Generated template for the PerfilPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <button ion-button icon-only menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Perfil</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <!--Minha página de Perfil...-->

  <form #formCtrl="ngForm">
    <div align="center"><!--</div> *ngIf="formCtrl.form.valid">-->
        
      <h1> {{nomeUsuario}} </h1>
      <img class="profile-image" [src]="fcpathfoto"><!-- src="assets/imgs/profile.jpg">-->
      <h4>Meia Armador, Sócio do Clube</h4>

    </div>
    <h5 align="center" *ngIf="person.idade">{{person.idade}} anos</h5>
    <ion-list>
        <ion-item>
          <ion-label floating>Nome</ion-label>
          <ion-input type="text" [(ngModel)]="person.nome" name="nome" required></ion-input>
          <button ion-button clear color="dark" type="button" item-right><ion-icon ios="ios-person" md="md-person"></ion-icon>
          </button>
          <!--<ion-input type="text" placeholder="Usuário" autocomplete="on" clearInput [(ngModel)]="person.nome" id="nome" required pattern=".{4,10}"></ion-input>-->
        </ion-item>      
        <ion-item>
          <ion-label floating>Email</ion-label>
          <ion-input type="text" [(ngModel)]="person.email" name="email" required></ion-input>
          <button ion-button clear color="dark" type="button" item-right><ion-icon ios="ios-mail" md="md-mail"></ion-icon>
          </button>
          <!--<ion-input type="text" placeholder="email" autocomplete="on" clearInput [(ngModel)]="person.email" id="email" required pattern=".{4,10}"></ion-input>-->
        </ion-item>
        <ion-item>
          <ion-label floating>Perfil</ion-label>
          
          <ion-select [(ngModel)]="person.nmfunc" multiple="false" (ngModelChange)="doCheckRole($event)" [ngModelOptions]="{standalone:true}">
            <ion-option *ngFor="let role of this.configProvider.userRoles" [value]="role.id">
              {{role.name}}
            </ion-option>
          </ion-select>
        
        <!--
        <ion-select [(ngModel)]="person.idfunc" id="nam" [ngModelOptions]="{standalone:true}">
          <ion-option *ngFor="let role of this.configProvider.userRoles" [value]="role.id">
            {{role.name}}
          </ion-option>
        </ion-select>
        -->
        </ion-item>      
        <ion-item>
          <ion-label >Data de Nascimento</ion-label>
          <ion-datetime required 
              name="birthdate" 
              displayFormat="DD MMM YYYY" 
              pickerFormat="DD MMM YYYY" 
              cancelText="Cancela"
              doneText="Confirma"
              monthShortNames="jan, fev, mar, abr, mai, jun, jul, ago, set, out, nov, dez"
              [(ngModel)]="person.dtaniversario" 
              [ngModelOptions]="{standalone:true}">
            </ion-datetime>
          
      </ion-item>
      <ion-item>
        <ion-label floating>Altura</ion-label>
        <ion-input type="tel" inputmode="numeric" min="1" max="999" (keyup)="formatDigit($event,1)" [(ngModel)]="person.altura" name="altura"> </ion-input>
        <button ion-button clear color="dark" type="button" item-right><ion-icon ios="ios-man" md="md-man"></ion-icon>
        </button>
      </ion-item>      
      <ion-item>
        <ion-label floating>Peso</ion-label>
        <ion-input type="tel" inputmode="numeric" min="1" max="999" (keyup)="formatDigit($event,2)" [(ngModel)]="person.peso" name="peso"> </ion-input>
        <button ion-button clear color="dark" type="button" item-right><ion-icon ios="ios-timer" md="md-timer"></ion-icon></button>
      </ion-item>      
      <ion-item>
        <ion-label floating>Número da Chuteira</ion-label>
        <ion-input type="number" inputmode="numeric" min="1" max="99" (keyup)="formatDigit($event,3)" [(ngModel)]="person.chuteira" name="chuteira"> </ion-input>
      </ion-item>      
      <ion-item>
        <ion-label floating>Celular</ion-label>
        <ion-input type="tel" inputmode="tel" min="1" max="99" (keyup)="formatDigit($event,4)" [(ngModel)]="person.fone" name="fone"> </ion-input>
        <button ion-button clear color="dark" type="button" item-right><ion-icon ios="ios-contacts" md="md-contacts"></ion-icon></button>
      </ion-item>            
    </ion-list>
    <!--
    <button color="secondary" [disabled]="!formCtrl.form.valid" ion-button block (click)="save()">Save</button>
    <button color="danger" ion-button block (click)="reset()">Reset</button>
    -->
    <button ion-button block (click)="savePerson(person)">Salvar Alterações</button>
    <button ion-button block (click)="fecharSP()">Fechar</button>
  </form>
</ion-content>
